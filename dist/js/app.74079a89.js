(function(t){function e(e){for(var s,o,a=e[0],c=e[1],l=e[2],p=0,h=[];p<a.length;p++)o=a[p],r[o]&&h.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},r={app:0},i=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"161c":function(t,e,n){},"17fe":function(t,e,n){"use strict";var s=n("3436"),r=n.n(s);r.a},"1c5d":function(t,e,n){},3436:function(t,e,n){},"366e":function(t,e,n){"use strict";var s=n("f20c"),r=n.n(s);r.a},5605:function(t,e,n){},5698:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("55dd"),n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Screen",{on:{lastScores:t.showLastScores,bestScores:t.showBestScores}}),n("div",{staticClass:"popups"},[n("Overlay",{class:{show:t.showLatest},on:{close:function(e){t.showLatest=!1}}},[n("lastScores",{attrs:{slot:"body",scores:t.$root.scores.lasts},slot:"body"})],1),n("Overlay",{class:{show:t.showBest},on:{close:function(e){t.showBest=!1}}},[n("bestScores",{attrs:{slot:"body",scores:t.$root.scores.highest},slot:"body"})],1)],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"screen",on:{click:t.birdJump}},[n("div",{staticClass:"scoreboard",on:{click:function(t){t.stopPropagation()}}},[n("span",[t._v("\n\t\t\tScore actual: "+t._s(t.$root.scores.actual)+"\n\t\t")]),n("span",{on:{click:function(e){return t.$emit("lastScores")}}},[t._v("\n\t\t\tVer los ultimos scores\n\t\t")]),n("span",{on:{click:function(e){return t.$emit("bestScores")}}},[t._v("\n\t\t\tVer los mejores scores\n\t\t")])]),n("div",{staticClass:"clouds"}),n("div",{staticClass:"field"},[n("Bird",{ref:"bird",on:{died:t.stopCounting,counting:t.startCounting}}),t._l(t.pipesTop,function(e,s){return n("Pipe",{key:e,attrs:{up:!0,idx:s,bird:t.$refs.bird},on:{destroy:function(n){return t.destroyPipe(!0,e)}}})}),t._l(t.pipesBottom,function(e,s){return n("Pipe",{key:e,attrs:{up:!1,idx:s,bird:t.$refs.bird},on:{destroy:function(n){return t.destroyPipe(!1,e)}}})})],2),n("div",{staticClass:"floor"})])},a=[],c=(n("386d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bird",{fade:t.isDead,jumping:t.isJumping,falling:!t.isJumping&&t.fallingInterval}],style:t.position})}),l=[],u={name:"Bird",data:function(){return{top:30,jumpStrength:20,limit:{top:5,bottom:75},isDead:!1,isJumping:!1,fallingInterval:null}},methods:{jump:function(){var t=this;this.fallingInterval||(this.$emit("counting"),this.fall()),this.isJumping||this.isDead||(this.isJumping=!0,this.top=this.top-this.jumpStrength,setTimeout(function(){return t.isJumping=!1},250))},fall:function(){var t=this;this.fallingInterval=setInterval(function(){if(t.isDead)return clearInterval(t.fallingInterval),void(t.fallingInterval=null);t.isJumping||(t.top=t.top+3)},50)},resurrect:function(){this.top=30,this.isJumping=!1,this.isDead=!1},die:function(){this.isDead||(this.isDead=!0,this.$emit("died"))}},computed:{position:function(){return"top: ".concat(this.top,"%")}},watch:{top:function(t){if(!(t>=this.limit.bottom))return t<=.55*(this.limit.top-this.jumpStrength)?(console.log("Last: ".concat(t," | Limit: ").concat(this.limit.top)),void(this.top=this.limit.bottom)):void 0;setTimeout(this.die,100)}}},p=u,h=(n("eb33"),n("2877")),f=Object(h["a"])(p,c,l,!1,null,"256472bf",null),d=f.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"pipeline",class:["pipe",{reverse:t.up,normal:!t.up}],style:t.style},[n("img",{attrs:{src:"/assets/img/pipe.png"}})])},m=[],g=(n("a481"),n("c5f6"),{name:"Pipe",props:{up:Boolean,bird:Object,idx:Number},data:function(){return{size:0,sizeList:[15,20,25,30,35,40,45],styles:{right:"-18vh"},movementInterval:null}},computed:{style:function(){var t="height: ".concat(this.size,"vh; ");for(var e in this.styles)t+="".concat(e,": ").concat(this.styles[e],"; ");return t}},methods:{detectCollision:function(){var t=this.bird.$el.getBoundingClientRect(),e=this.$el.getBoundingClientRect(),n=!(t.top>e.bottom-15||t.right<e.left+15||t.bottom<e.top+15||t.left>e.right-15);n&&this.bird.die()},destroyIfOutside:function(t){t<440||this.$emit("destroy")}},mounted:function(){var t=this;this.size=this.sizeList[Math.floor(Math.random()*(this.sizeList.length-1))],this.movementInterval=setInterval(function(){var e=Number(t.styles.right.replace(/[^\d.-]/g,""));e+=1,t.styles.right="".concat(e,"vh"),t.idx<=2&&t.detectCollision(),t.destroyIfOutside(e)},15)},beforeDestroy:function(){clearInterval(this.movementInterval)}}),b=g,y=(n("80a8"),Object(h["a"])(b,v,m,!1,null,"0675d944",null)),_=y.exports,I={name:"Screen",components:{Bird:d,Pipe:_},data:function(){return{flyInterval:null,pipesTop:[],pipesBottom:[],pipeGeneratorInterval:null}},methods:{destroyPipe:function(t,e){var n=t?"pipesTop":"pipesBottom";this[n]=this[n].filter(function(t){return t!=e})},pipeGenerator:function(){var t=this;this.pipeGeneratorInterval=setInterval(function(){var e=Math.floor(2*Math.random())+1==2,n=Math.floor(2*Math.random())+1==2;e&&t.pipesTop.push(t.pipeId()),n&&t.pipesBottom.push(t.pipeId())},1e3)},pipeId:function(){var t="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM0123456789-_",e="";while(e.length<10){var n=Math.floor(Math.random()*(t.length-1));e+=t.charAt(n)}return e},startCounting:function(){var t=this;this.flyInterval=setInterval(function(){return t.$root.scores.actual+=1},350)},stopCounting:function(){this.flyInterval&&(this.pipeGeneratorInterval&&(clearInterval(this.pipeGeneratorInterval),this.pipeGeneratorInterval=null),console.log("Deteniendo contadores."),clearInterval(this.flyInterval),this.$root.scores.lasts.unshift(this.$root.scores.actual),this.$root.scores.actual=0)},birdJump:function(){this.$refs.bird.isDead?this.$refs.bird.resurrect():(this.pipeGeneratorInterval||this.pipeGenerator(),this.$refs.bird.jump())}}},S=I,w=(n("17fe"),Object(h["a"])(S,o,a,!1,null,"a7cc38b4",null)),$=w.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overlay",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[n("div",{staticClass:"layout shadow"},[n("span",{staticClass:"exit",attrs:{title:"Cerrar esta ventana"},on:{click:function(e){return t.$emit("close")}}},[t._v("x")]),n("hr",{staticClass:"hidden"}),n("div",{staticClass:"body"},[t._t("body",[n("p",[t._v("Overlay")])])],2)])])},O=[],C={name:"Overlay"},x=C,B=(n("65d7"),Object(h["a"])(x,j,O,!1,null,"dcf711fc",null)),P=B.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("\n\t\tUltimos Scores\n\t")]),n("hr"),t.scores.length<1?n("div",[n("p",[t._v("\n\t\t\tNo has jugado ninguna partida\n\t\t")])]):n("div",[n("table",t._l(t.scores,function(e,s){return n("tr",{key:s+""+e},[n("td",[n("p",[t._v("\n\t\t\t\t\t\t"+t._s(s+1)+".\n\t\t\t\t\t")])]),n("td",[n("span",[t._v("\n\t\t\t\t\t\t"+t._s(e)+" pts\n\t\t\t\t\t")])])])}),0)]),n("br")])},M=[],J={name:"lastScores",props:{scores:Array}},L=J,D=(n("e500"),Object(h["a"])(L,k,M,!1,null,"6b564003",null)),T=D.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("\n\t\tMejores Scores\n\t")]),n("hr"),t.scores.length<1?n("div",[n("p",[t._v("\n\t\t\tNo has jugado ninguna partida\n\t\t")])]):n("div",[n("table",t._l(t.scores,function(e,s){return n("tr",{key:s+""+e},[n("td",[n("p",[t._v("\n\t\t\t\t\t\t"+t._s(s+1)+".\n\t\t\t\t\t")])]),n("td",[n("span",[t._v("\n\t\t\t\t\t\t"+t._s(e)+" pts\n\t\t\t\t\t")])])])}),0)]),n("br")])},E=[],z={name:"bestScores",props:{scores:Array}},N=z,A=(n("9d90"),Object(h["a"])(N,G,E,!1,null,"08cfea7d",null)),H=A.exports,R={name:"app",components:{Screen:$,Overlay:P,lastScores:T,bestScores:H},data:function(){return{showLatest:!1,showBest:!1}},methods:{showLastScores:function(){this.showLatest=!0},showBestScores:function(){this.showBest=!0}}},V=R,U=(n("366e"),n("94fb"),Object(h["a"])(V,r,i,!1,null,"03d334ea",null)),q=U.exports;s["a"].config.productionTip=!1,new s["a"]({data:function(){return{scores:{lasts:[],highest:[],actual:0},player:{name:"Bird"},bird:null}},methods:{sortHighestsScores:function(t){this.scores.highest.unshift(t),this.scores.highest.sort(function(t,e){return e-t});var e=this.scores.highest.length;this.scores.highest.length=e>10?10:e}},watch:{"scores.lasts":function(t){var e=this.scores.lasts.length;this.scores.lasts.length=e>10?10:e,this.sortHighestsScores(t[0])}},render:function(t){return t(q)}}).$mount("#app")},"65d7":function(t,e,n){"use strict";var s=n("1c5d"),r=n.n(s);r.a},"80a8":function(t,e,n){"use strict";var s=n("5605"),r=n.n(s);r.a},"94fb":function(t,e,n){"use strict";var s=n("5698"),r=n.n(s);r.a},"99e1":function(t,e,n){},"9d90":function(t,e,n){"use strict";var s=n("161c"),r=n.n(s);r.a},df39:function(t,e,n){},e500:function(t,e,n){"use strict";var s=n("df39"),r=n.n(s);r.a},eb33:function(t,e,n){"use strict";var s=n("99e1"),r=n.n(s);r.a},f20c:function(t,e,n){}});
//# sourceMappingURL=app.74079a89.js.map